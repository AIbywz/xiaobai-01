<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>axios 基本使用</title>
</head>
<body>
  <div>
    <button onclick="testGet()">Get请求</button>
    <button onclick="testPost()">Post请求</button>
    <button onclick="testPut()">Put请求</button>
    <button onclick="testDelete()">Delete请求</button>
  </div>
  <script src="https://cdn.bootcss.com/axios/0.19.2/axios.js"></script>
  <script>
    //指定默认配置
    axios.defaults.baseURL = 'http://localhost:3000';

    function testGet(){
      // axios({
      //   url:'/posts',
      //   params:{
      //     id:1
      //   }
      // }).then(response=>{
      //   const result = response.data;
      //   console.log(result);
      // }).catch(error =>{
      //   alert(error.message);
      // })
      axios.get('/posts',{
        params:{
          id:3
        }
      }).then(response =>{
        console.log('Get',response.data);
        
      }).catch(error =>{
        alert(error.message)
      })
    }
    function testPost(){
      // axios({
      //   url:'/posts',
      //   method:'post',
      //   data:{
      //     title: 'title11',
      //     author:'yyyy'
      //   }
      // }).then(response =>{
      //   console.log(response.data);
      // }).catch(error =>{
      //   alert(error.message);
      // })
      axios.post('/posts',{
        title:'title22',
        author:'bbbb'
      }).then(response =>{
        console.log(response.data);
      }).catch(error =>{
        alert(error.message)
      })
    }
    function testPut(){
      // axios({
      //   url:'/posts/1',
      //   method:'Put',
      //   data:{
      //     title:'title111111',
      //     author:'author1111'
      //   }
      // }).then(response =>{
      //   console.log(response.data);
      // }).catch(error =>{
      //   alert(error.message)
      // })
      axios.put('/posts/1',{
        title:'title11111',
        author:'author111'
      }).then(response =>{
        console.log(response.data)
      }).catch(error =>{
        alert(error.message)
      })
    }
    function testDelete(){
      // axios({
      //   url:'/posts/1',
      //   method:'delete'
      // }).then(response =>{
      //   console.log(response.data)
      // }).catch(error =>{
      //   alert(error.message)
      // })
      axios.delete('posts/7')
      .then(response =>{
        console.log(response.data)
      }).catch(error =>{
        alert(error.message)
      })
    }
  </script>
</body>
</html>